[
  {
    "type": "MOD_INFO",
    "id": "OH_NO_MY_HOUSE",
    "name": "OH NO MY HOUSE",
    "authors": [ "Kenshut" ],
    "description": "Вы чуствуете себя богом этого мира? Тогда наша корпорация №@$#, готова предоставить вам особые услуги, и за определённую ценну мы переместим модифицированный блоб в ваше измерение. Вы согласны?",
    "category": "content",
	"version": "Alpha 2",
    "dependencies": [ "dda" ]
  },
  {
    "type": "effect_on_condition",
    "id": "считаем_убийства",
    "eoc_type": "EVENT",
    "required_event": "character_kills_monster",
    "effect": [ { "math": [ "сложность", "+=", "0.1" ] } ]
  },
  {
    "type": "effect_on_condition",
    "id": "Кристал_ингибитор",
    "effect": [ { "math": [ "сложность", "-=", "50" ] } ]
  },
  {
    "type": "effect_on_condition",
    "id": "запуск",
    "eoc_type": "EVENT",
    "required_event": "game_start",
	"condition": { "compare_num": [ { "global_val": "var", "var_name": "стартии" }, "=", { "const": 0 } ] },
    "effect": [
	{ "arithmetic": [ { "global_val": "var", "var_name": "сложность" }, "=", { "const": 10 } ] },
	{ "arithmetic": [ { "global_val": "var", "var_name": "стартии" }, "=", { "const": 1 } ] },
	{ "open_dialogue": { "topic": "начало" } }
	] 
  },
  {
    "type": "effect_on_condition",
    "id": "запуск_если_старый",
    "eoc_type": "EVENT",
    "required_event": "game_start",
	"condition": {"and":[ 
	{ "compare_num": [ { "global_val": "var", "var_name": "стартии" }, "=", { "const": 0 } ] },
	{ "compare_num": [ { "global_val": "var", "var_name": "сложность" }, "<", { "const": 10 } ] },
	]},
    "effect": [
	{ "arithmetic": [ { "global_val": "var", "var_name": "стартии" }, "=", { "const": 1 } ] },
	{ "open_dialogue": { "topic": "старый" } }
	] 
  },
  {
    "type": "effect_on_condition",
    "id": "тестти",
	"global": true,
    "effect": [{ "math": [ "коечто", "=", "boss_spawn()" ]},
	{ "math": [ "коечто1", "=", "волна_босс()" ]},
	{"u_message": "Сложность игры: <global_val:сложность_игры>\nколичество волн: <global_val:волны>\nБосс волны: <global_val:включение_боссов>\nТекущий уровень сложности волны: <global_val:сложность>\nволны разделить на пять: <global_val:коечто1>\nдаёт дробную часть нашего прошлого числа: <global_val:коечто>","popup":true} ]
  },
  {
    "type": "jmath_function",
    "id": "волна_босс",
    "num_args": 0,
    "return": "волны / 5"
  },
  {
    "type": "jmath_function",
    "id": "boss_spawn",
    "num_args": 0,
    "return": "волна_босс() < 0 ? волна_босс() - ceil(волна_босс()) : волна_босс() - floor(волна_босс())"
  }
]
